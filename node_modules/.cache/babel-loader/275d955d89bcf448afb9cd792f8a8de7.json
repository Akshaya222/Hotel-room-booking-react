{"ast":null,"code":"var _jsxFileName = \"/home/akshaya/Desktop/hotel/src/Context.js\",\n    _s = $RefreshSig$();\n\nimport React, { createContext, useState, useEffect } from 'react';\nimport items from './data';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RoomsContext = /*#__PURE__*/createContext(null);\n\nconst Context = ({\n  children\n}) => {\n  _s();\n\n  const [state, setState] = useState({\n    rooms: [],\n    sortedRooms: [],\n    featuredRooms: [],\n    loading: true,\n    type: \"all\",\n    perNo: 1,\n    price: 0,\n    minPrice: 0,\n    maxPrice: 0,\n    size: 0,\n    bf: false,\n    pets: false\n  });\n\n  const formatRooms = items => {\n    let tempItems = items.map(item => {\n      let id = item.sys.id;\n      let images = item.fields.images.map(image => image.fields.file.url);\n      let fields = item.fields;\n      let room = {\n        id,\n        ...fields,\n        images\n      };\n      return room;\n    });\n    return tempItems;\n  };\n\n  useEffect(() => {\n    let rooms = formatRooms(items);\n    let featuredRooms = rooms.filter(item => item.featured === true);\n    let maxPrice = Math.max(...rooms.map(item => item.price));\n    let maxSize = Math.max(...rooms.map(item => item.size));\n    setState({ ...state,\n      rooms: rooms,\n      featuredRooms: featuredRooms,\n      sortedRooms: rooms,\n      loading: false,\n      price: maxPrice,\n      maxPrice,\n      size: maxSize\n    });\n  }, []);\n\n  const filterRooms = () => {\n    console.log(\"filter rooms\", state);\n    let rooms = formatRooms(items);\n    let filteredRooms = rooms;\n\n    if (state.type !== \"all\") {\n      filteredRooms = filteredRooms.filter(item => item.type == state.type);\n      console.log(\"filtered rooms 1\", filteredRooms);\n    }\n\n    if (parseInt(state.perNo) != 1 && filteredRooms) {\n      filteredRooms = filteredRooms.filter(item => item.capacity == state.perNo);\n      console.log(\"filtered rooms 2\", filteredRooms);\n    }\n\n    if (filteredRooms) {\n      filteredRooms = filteredRooms.filter(item => item.price <= state.price);\n      console.log(\"filtered rooms 3\", filteredRooms);\n    }\n\n    if (filteredRooms) {\n      filteredRooms = filteredRooms.filter(item => item.size <= state.size);\n      console.log(\"filtered rooms 4\", filteredRooms);\n    }\n\n    if (filteredRooms) {\n      filteredRooms = filteredRooms.filter(item => item.breakfast == state.bf);\n      console.log(\"filtered rooms 5\", filteredRooms);\n    }\n\n    if (filteredRooms) {\n      filteredRooms = filteredRooms.filter(item => item.pets == state.pets);\n      console.log(\"filtered rooms 6\", filteredRooms);\n    }\n\n    console.log(\"filtered rooms 7\", filteredRooms);\n    setState({ ...state,\n      sortedRooms: filteredRooms || state.sortedRooms\n    });\n    console.log(\"state***********\", state);\n    console.log(\"me else...\");\n  };\n\n  const handleChange = (event, newValue) => {\n    console.log(\"new value\", newValue);\n    console.log(\"type of nmuber\", typeof newValue);\n    const name = event.target.name;\n    let newPrice = null;\n\n    if (typeof newValue !== \"boolean\") {\n      newPrice = newValue;\n    }\n\n    let value = null;\n\n    if ([name] == \"bf\" || [name] == \"pets\") {\n      value = event.target.checked;\n    } else {\n      console.log(\"came here\");\n      value = event.target.value;\n    }\n\n    console.log(\"name is\", name, \"value is\", value);\n    setState({ ...state,\n      [name]: value,\n      price: newPrice || state.maxPrice\n    });\n    setTimeout(() => {\n      console.log(\"heloooo\", state);\n    }, 3000);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(RoomsContext.Provider, {\n      value: { ...state,\n        filterRooms,\n        handleChange\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Context, \"PIa4W47pKt9XEm4eTxomhtpII9I=\");\n\n_c = Context;\nconst RoomConsumer = RoomsContext.Consumer;\nexport { Context, RoomConsumer, RoomsContext };\n\nvar _c;\n\n$RefreshReg$(_c, \"Context\");","map":{"version":3,"sources":["/home/akshaya/Desktop/hotel/src/Context.js"],"names":["React","createContext","useState","useEffect","items","RoomsContext","Context","children","state","setState","rooms","sortedRooms","featuredRooms","loading","type","perNo","price","minPrice","maxPrice","size","bf","pets","formatRooms","tempItems","map","item","id","sys","images","fields","image","file","url","room","filter","featured","Math","max","maxSize","filterRooms","console","log","filteredRooms","parseInt","capacity","breakfast","handleChange","event","newValue","name","target","newPrice","value","checked","setTimeout","RoomConsumer","Consumer"],"mappings":"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","sourcesContent":["import React,{createContext,useState,useEffect} from 'react';\nimport items from './data';\n\nconst RoomsContext=createContext(null);\n\nconst Context = ({children}) => {\n    const [state,setState]=useState({\n       rooms:[],\n       sortedRooms:[],\n       featuredRooms:[],\n       loading:true,\n       type:\"all\",\n       perNo:1,\n       price:0,\n       minPrice:0,\n       maxPrice:0,\n       size:0,\n       bf:false,\n       pets:false\n    });\n  \n    const formatRooms=(items)=>{\n        let tempItems=items.map((item)=>{\n            let id=item.sys.id;\n            let images=item.fields.images.map((image)=>\n                image.fields.file.url\n            );\n            let fields=item.fields;\n            let room={id,...fields,images} \n            return room;\n        })\n        return tempItems;\n    }\n\n    useEffect(()=>{\n         let rooms=formatRooms(items);\n         let featuredRooms=rooms.filter((item)=>item.featured===true);\n         let maxPrice=Math.max(...rooms.map((item)=>item.price));\n         let maxSize=Math.max(...rooms.map((item)=>item.size));\n         setState({\n             ...state,\n             rooms:rooms,\n             featuredRooms:featuredRooms,\n             sortedRooms:rooms,\n             loading:false,\n             price:maxPrice,\n             maxPrice,\n             size:maxSize\n         })\n    },[])\n\n    const filterRooms=()=>{\n        console.log(\"filter rooms\",state);\n        let rooms=formatRooms(items)\n        let filteredRooms=rooms\n        if(state.type!==\"all\"){\n          filteredRooms= filteredRooms.filter((item)=>item.type==state.type)\n          console.log(\"filtered rooms 1\",filteredRooms);\n        }\n        if(parseInt(state.perNo)!=1&&filteredRooms){\n            filteredRooms=filteredRooms.filter((item)=>item.capacity==state.perNo)\n            console.log(\"filtered rooms 2\",filteredRooms);\n        }\n        if(filteredRooms){\n            filteredRooms=filteredRooms.filter((item)=>item.price<=state.price)\n            console.log(\"filtered rooms 3\",filteredRooms)\n        }\n        if(filteredRooms){\n            filteredRooms=filteredRooms.filter((item)=>item.size<=state.size)\n            console.log(\"filtered rooms 4\",filteredRooms)\n        }\n        if(filteredRooms){\n            filteredRooms=filteredRooms.filter((item)=>item.breakfast==state.bf)\n            console.log(\"filtered rooms 5\",filteredRooms)\n        }\n        if(filteredRooms){\n            filteredRooms=filteredRooms.filter((item)=>item.pets==state.pets)\n            console.log(\"filtered rooms 6\",filteredRooms)\n        }\n        console.log(\"filtered rooms 7\",filteredRooms)\n         setState({\n             ...state,\n             sortedRooms:filteredRooms || state.sortedRooms\n         })\n        console.log(\"state***********\",state)\n       console.log(\"me else...\")\n    }\n    const handleChange=(event,newValue)=>{\n        console.log(\"new value\",newValue)\n        console.log(\"type of nmuber\",typeof(newValue))\n        const name=event.target.name;\n        let newPrice=null;\n        if(typeof(newValue)!==\"boolean\"){\n            newPrice=newValue\n        }\n        let value=null\n        if([name]==\"bf\"||[name]==\"pets\"){\n            value=event.target.checked\n        }\n        else{\n            console.log(\"came here\")\n            value=event.target.value\n        }\n       console.log(\"name is\",name,\"value is\",value)\n       setState({\n            ...state,\n            [name]:value,\n            price: newPrice || state.maxPrice\n        })\n        setTimeout(()=>{console.log(\"heloooo\",state)},3000)\n    }\n\n    return (\n        <div>\n            <RoomsContext.Provider value={{...state,filterRooms,handleChange}}>\n                {\n                    children\n                }\n            </RoomsContext.Provider>\n        </div>\n    )\n}\n\nconst RoomConsumer=RoomsContext.Consumer;\nexport {Context,RoomConsumer,RoomsContext}\n"]},"metadata":{},"sourceType":"module"}